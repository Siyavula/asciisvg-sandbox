<!DOCTYPE html>
<html>
  <head>
    <title>Siyavula - Image Editing Sandbox</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <!-- / HOLY JS BATMAN! -->
    <script charset='utf-8' src='http://code.jquery.com/jquery-1.4.2.min.js' type='text/javascript'></script>
    <script charset='utf-8' src='javascripts/plugins.js' type='text/javascript'></script>
    <script src='javascripts/require.js' type='text/javascript'></script>
    <script src='javascripts/ace.js' type='text/javascript'></script>
    <script src='javascripts/mode-html.js' type='text/javascript'></script>
    <script src='javascripts/mode-python.js' type='text/javascript'></script>
    <script charset='utf-8' src='javascripts/desk.min.js' type='text/javascript'></script>
    <script src='javascripts/CFInstall.min.js' type='text/javascript'></script>
    <!-- / YE GADS! IT'S THE MOTHERLOAD -->
    <link href='css/desk.css' media='screen' rel='stylesheet' type='text/css' />
		<script type="text/javascript" src="script.js"></script>
    <script type='text/javascript'>
      //<![CDATA[
         CFInstall.check({
           mode: "overlay"
         });
      //]]>
    </script>
    <!--
      [if IE]>
      <style type="text/css">
      #controls, header, #frame { display: none }
      </style>
      <![endif]
    -->
  </head>
  <body>
    <header>
      <h1>
        Siyavula Image Editor
      </h1>
      <nav>
        <ul>
          <li class='reset'>
            <a href="index.html#" class="reset-link">Reset</a>
            <span class="tooltip">Reset the code to the default</span>
          </li>	
          <li class='suggestionselector'>
           	<a href="#">Suggestion</a> <input id="suggestion_box" style='width:400px; padding-left:5px;'>
          </li>	
          <li class='selector'>
            <a class='blueprint' href='index.html#' id='swatches'></a>
            <ul class='dropdown'>
              <li class='blueprint'>
                <a href='index.html#'>
                  Blueprint
                </a>
              </li>
              <li class='desk'>
                <a href='index.html#'>
                  Desk
                </a>
              </li>
            </ul>
          </li>
          <li>
           	<a href="#" id="random_lock" onClick="if (this.innerHTML == 'Lock Random Seed') {this.innerHTML='Unlock Random Seed';} else  {this.innerHTML='Lock Random Seed';}">Lock Random Seed</a> <input id="random_seed" style='width:50px; padding-left:5px;'>
          </li>	
					<li>
            <a href="#" onClick='html=highlight?htmlEditor.getSession().getValue():$("#html").val(); style=highlight?cssEditor.getSession().getValue():$("#css").val(); xmlhttpPost("PNG",html,css);'>Download PNG</a>
          </li>
        </ul>
      </nav>
    </header>
    <div id='desk'></div>
    <section id='controls'>
      <a class='toggleLink' href='index.html#'>
        &laquo;
      </a>
      <div id='htmlbox'>
        <div class='title-bar'>
          <h3>
            Python Code
          </h3>
        </div>
        <div class='content'>
          <textarea class='editor' id='html'>a = random.randint(50,300)</textarea>
        </div>
      </div>
      <div id='cssbox'>
        <div class='title-bar'>
          <h3>
            ASCII Code
          </h3>
        </div>
        <div class='content'>
          <textarea class='editor' id='css'>max = <valueof>a</valueof>
for i in range (1,max): 
  start_group([0,0],i*10, [1 - i/max,1 - i/max])
  arrowhead([0,0],[0,3.8])
  #text([0,4], i)
  stop_group()</textarea>
        </div>
      </div>
    </section>
    <form id='share-form'>
      <input id='css-input' name='css' type='hidden' />
      <input id='html-input' name='html' type='hidden' />
      <input id='authkey-input' name='authkey' type='hidden' />
      <input id='bg-input' name='background' type='hidden' />
    </form>
  </body>
</html>

<!-- Download Frame -->
<iframe id="download_frame" style="display:none"></iframe>

<!-- Javascript -->
<script type="text/javascript">
function populateIframe(id,path) 
{
    var ifrm = document.getElementById(id);
    ifrm.src = "download.php?path="+path;
}
</script>

